function _t(t,e){return intelli.admin&&intelli.admin.lang[t]?intelli.admin.lang[t]:_f(t,e)}function _f(t,e){return intelli.lang[t]?intelli.lang[t]:e?e===!0?t:e:"{"+t+"}"}intelli={pageName:"",securityTokenKey:"__st",lang:{},inArray:function(t,e){if("object"==typeof e&&e)for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1},cookie:{read:function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return null},write:function(t,e,n,i){var o="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),o="; expires="+r.toGMTString()}i=i||"/",document.cookie=t+"="+e+o+"; path="+i},clear:function(t){intelli.cookie.write(t,"",-1)}},urlVal:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=e.exec(window.location.href);return null===n?null:decodeURIComponent(n[1])},notifBox:function(t){var e=t.msg,n=t.type||"info",i=t.autohide||("notification"==n||"success"==n||"error"==n?!0:!1),o=t.pause||10,r="";("notif"==n||"notification"==n)&&(n="success");var a="notification";t.boxid&&(a=t.boxid);var l=$("#"+a);if($.isArray(e)){r+='<ul class="unstyled">';for(var s=0;s<e.length;s++)""!=e[s]&&(r+="<li>"+e[s]+"</li>");r+="</ul>"}else r+=["<div>",e,"</div>"].join("");return l.attr("class","alert alert-"+n).html(r).show(),i&&l.delay(1e3*o).fadeOut("slow"),$("html, body").animate({scrollTop:l.offset().top},"slow"),l},notifFloatBox:function(t){var e=t.msg,n=t.type||"info",i=t.pause||3e3,o=t.autohide,r="";if(r+='<div id="notifFloatBox" class="notifFloatBox notifFloatBox--'+n+'"><a href="#" class="close">&times;</a>',$.isArray(e)){r+="<ul>";for(var a=0;a<e.length;a++)""!=e[a]&&(r+="<li>"+e[a]+"</li>");r+="</ul>"}else r+="<ul><li>"+e+"</li></ul>";r+="</div>",!$("#notifFloatBox").length>0&&($(r).appendTo("body").css("display","block").addClass("animated bounceInDown"),o&&setTimeout(function(){$("#notifFloatBox").fadeOut(function(){$(this).remove()})},i),$(".close","#notifFloatBox").on("click",function(t){t.preventDefault(),$("#notifFloatBox").fadeOut(function(){$(this).remove()})}))},is_email:function(t){return t.search(/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z]{2,3})+$/)>-1},ckeditor:function(t,e){return CKEDITOR.instances[t]?!1:(e=e||{},e.baseHref=intelli.config.ia_url,"1"==intelli.config.ckeditor_mobile&&(CKEDITOR.env.isCompatible=!0),void CKEDITOR.replace(t,e))},add_tab:function(t,e){var n=$("<li>").append($("<a>").attr({"data-toggle":"tab",href:"#"+t}).text(e)),i=$("<div>").attr("id",t).addClass("tab-pane");0==$(".nav-tabs",".tabbable").children().length&&(n.addClass("active"),i.addClass("active")),$(".nav-tabs",".tabbable").append(n),$(".tab-content",".tabbable").append(i)},actionFavorites:function(t,e,n){$.ajax({url:intelli.config.ia_url+"profile/favorites/read.json",type:"get",data:{item:e,item_id:t,action:n},success:function(t){t.error||(window.location.href=window.location.href)}})},sortable:function(t,e,n,i){!function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=t():"undefined"!=typeof Package?Sortable=t():window.Sortable=t()}(function(){"use strict";function t(t,e){this.el=t,this.options=e=e||{};var i={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",ignore:"a, img",filter:null,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1};for(var o in i)!(o in e)&&(e[o]=i[o]);var a=e.group;a&&"object"==typeof a||(a=e.group={name:a}),["pull","put"].forEach(function(t){t in a||(a[t]=!0)}),Y.forEach(function(i){e[i]=n(this,e[i]||X),r(t,i.substr(2).toLowerCase(),e[i])},this),t[O]=a.name+" "+(a.put.join?a.put.join(" "):"");for(var l in this)"_"===l.charAt(0)&&(this[l]=n(this,this[l]));r(t,"mousedown",this._onTapStart),r(t,"touchstart",this._onTapStart),k&&r(t,"selectstart",this._onTapStart),r(t,"dragover",this._onDragOver),r(t,"dragenter",this._onDragOver),U.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function e(t){b&&b.state!==t&&(s(b,"display",t?"none":""),!t&&b.state&&_.insertBefore(b,v),b.state=t)}function n(t,e){var n=L.call(arguments,2);return e.bind?e.bind.apply(e,[t].concat(n)):function(){return e.apply(t,n.concat(L.call(arguments)))}}function i(t,e,n){if(t){n=n||$,e=e.split(".");var i=e.shift().toUpperCase(),o=new RegExp("\\s("+e.join("|")+")\\s","g");do if(">*"===i&&t.parentNode===n||(""===i||t.nodeName.toUpperCase()==i)&&(!e.length||((" "+t.className+" ").match(o)||[]).length==e.length))return t;while(t!==n&&(t=t.parentNode))}return null}function o(t){t.dataTransfer.dropEffect="move",t.preventDefault()}function r(t,e,n){t.addEventListener(e,n,!1)}function a(t,e,n){t.removeEventListener(e,n,!1)}function l(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(/\s+/g," ").replace(" "+e+" ","");t.className=i+(n?" "+e:"")}}function s(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return $.defaultView&&$.defaultView.getComputedStyle?n=$.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function c(t,e,n){if(t){var i=t.getElementsByTagName(e),o=0,r=i.length;if(n)for(;r>o;o++)n(i[o],o);return i}return[]}function d(t){t.draggable=!1}function f(){R=!1}function u(t,e){var n=t.lastElementChild,i=n.getBoundingClientRect();return e.clientY-(i.top+i.height)>5&&n}function h(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function p(t){for(var e=0;t&&(t=t.previousElementSibling)&&"TEMPLATE"!==t.nodeName.toUpperCase();)e++;return e}function g(t,e){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?t.call(i,n[0]):t.apply(i,n),n=void 0},e))}}var v,m,b,_,y,D,w,x,C,T,E,S,B,N={},O="Sortable"+(new Date).getTime(),A=window,$=A.document,I=A.parseInt,k=!!$.createElement("div").dragDrop,R=!1,F=function(t,e,n,i,o,r){var a=$.createEvent("Event");a.initEvent(e,!0,!0),a.item=n||t,a.from=i||t,a.clone=b,a.oldIndex=o,a.newIndex=r,t.dispatchEvent(a)},Y="onAdd onUpdate onRemove onStart onEnd onFilter onSort".split(" "),X=function(){},j=Math.abs,L=[].slice,U=[];return t.prototype={constructor:t,_dragStarted:function(){l(v,this.options.ghostClass,!0),t.active=this,F(_,"start",v,_,C)},_onTapStart:function(t){var e=t.type,n=t.touches&&t.touches[0],o=(n||t).target,a=o,l=this.options,s=this.el,f=l.filter;if(!("mousedown"===e&&0!==t.button||l.disabled)){if(l.handle&&(o=i(o,l.handle,s)),o=i(o,l.draggable,s),C=p(o),"function"==typeof f){if(f.call(this,t,o,this))return F(a,"filter",o,s,C),void t.preventDefault()}else if(f&&(f=f.split(",").some(function(t){return t=i(a,t.trim(),s),t?(F(t,"filter",o,s,C),!0):void 0})))return void t.preventDefault();if(o&&!v&&o.parentNode===s){"selectstart"===e&&o.dragDrop(),S=t,_=this.el,v=o,D=v.nextSibling,E=this.options.group,v.draggable=!0,l.ignore.split(",").forEach(function(t){c(o,t.trim(),d)}),n&&(S={target:o,clientX:n.clientX,clientY:n.clientY},this._onDragStart(S,!0),t.preventDefault()),r($,"mouseup",this._onDrop),r($,"touchend",this._onDrop),r($,"touchcancel",this._onDrop),r(v,"dragend",this),r(_,"dragstart",this._onDragStart),r($,"dragover",this);try{$.selection?$.selection.empty():window.getSelection().removeAllRanges()}catch(u){}}}},_emulateDragOver:function(){if(B){s(m,"display","none");var t=$.elementFromPoint(B.clientX,B.clientY),e=t,n=this.options.group.name,i=U.length;if(e)do{if((" "+e[O]+" ").indexOf(n)>-1){for(;i--;)U[i]({clientX:B.clientX,clientY:B.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);s(m,"display","")}},_onTouchMove:function(t){if(S){var e=t.touches[0],n=e.clientX-S.clientX,i=e.clientY-S.clientY,o="translate3d("+n+"px,"+i+"px,0)";B=e,s(m,"webkitTransform",o),s(m,"mozTransform",o),s(m,"msTransform",o),s(m,"transform",o),this._onDrag(e),t.preventDefault()}},_onDragStart:function(t,e){var n=t.dataTransfer,i=this.options;if(this._offUpEvents(),"clone"==E.pull&&(b=v.cloneNode(!0),s(b,"display","none"),_.insertBefore(b,v)),e){var o,a=v.getBoundingClientRect(),l=s(v);m=v.cloneNode(!0),s(m,"top",a.top-I(l.marginTop,10)),s(m,"left",a.left-I(l.marginLeft,10)),s(m,"width",a.width),s(m,"height",a.height),s(m,"opacity","0.8"),s(m,"position","fixed"),s(m,"zIndex","100000"),_.appendChild(m),o=m.getBoundingClientRect(),s(m,"width",2*a.width-o.width),s(m,"height",2*a.height-o.height),r($,"touchmove",this._onTouchMove),r($,"touchend",this._onDrop),r($,"touchcancel",this._onDrop),this._loopId=setInterval(this._emulateDragOver,150)}else n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,v)),r($,"drop",this);if(y=i.scroll,y===!0){y=_;do if(y.offsetWidth<y.scrollWidth||y.offsetHeight<y.scrollHeight)break;while(y=y.parentNode)}setTimeout(this._dragStarted,0)},_onDrag:g(function(t){if(_&&this.options.scroll){var e,n,i=this.options,o=i.scrollSensitivity,r=i.scrollSpeed,a=t.clientX,l=t.clientY,s=window.innerWidth,c=window.innerHeight,d=(o>=s-a)-(o>=a),f=(o>=c-l)-(o>=l);d||f?e=A:y&&(e=y,n=y.getBoundingClientRect(),d=(j(n.right-a)<=o)-(j(n.left-a)<=o),f=(j(n.bottom-l)<=o)-(j(n.top-l)<=o)),(N.vx!==d||N.vy!==f||N.el!==e)&&(N.el=e,N.vx=d,N.vy=f,clearInterval(N.pid),e&&(N.pid=setInterval(function(){e===A?A.scrollTo(A.scrollX+d*r,A.scrollY+f*r):(f&&(e.scrollTop+=f*r),d&&(e.scrollLeft+=d*r))},24)))}},30),_onDragOver:function(t){var n,o,r,a=this.el,l=this.options,c=l.group,d=c.put,h=E===c,p=l.sort;if(void 0!==t.preventDefault&&(t.preventDefault(),!l.dragoverBubble&&t.stopPropagation()),!R&&E&&(h?p||(r=!_.contains(v)):E.pull&&d&&(E.name===c.name||d.indexOf&&~d.indexOf(E.name)))&&(void 0===t.rootEl||t.rootEl===this.el)){if(n=i(t.target,l.draggable,a),o=v.getBoundingClientRect(),r)return e(!0),void(b||D?_.insertBefore(v,b||D):p||_.appendChild(v));if(0===a.children.length||a.children[0]===m||a===t.target&&(n=u(a,t))){if(n){if(n.animated)return;y=n.getBoundingClientRect()}e(h),a.appendChild(v),this._animate(o,v),n&&this._animate(y,n)}else if(n&&!n.animated&&n!==v&&void 0!==n.parentNode[O]){w!==n&&(w=n,x=s(n));var g,y=n.getBoundingClientRect(),C=y.right-y.left,T=y.bottom-y.top,S=/left|right|inline/.test(x.cssFloat+x.display),B=n.offsetWidth>v.offsetWidth,N=n.offsetHeight>v.offsetHeight,A=(S?(t.clientX-y.left)/C:(t.clientY-y.top)/T)>.5,$=n.nextElementSibling;R=!0,setTimeout(f,30),e(h),g=S?n.previousElementSibling===v&&!B||A&&B:$!==v&&!N||A&&N,g&&!$?a.appendChild(v):n.parentNode.insertBefore(v,g?$:n),this._animate(o,v),this._animate(y,n)}}},_animate:function(t,e){var n=this.options.animation;if(n){var i=e.getBoundingClientRect();s(e,"transition","none"),s(e,"transform","translate3d("+(t.left-i.left)+"px,"+(t.top-i.top)+"px,0)"),e.offsetWidth,s(e,"transition","all "+n+"ms"),s(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){s(e,"transition",""),e.animated=!1},n)}},_offUpEvents:function(){a($,"mouseup",this._onDrop),a($,"touchmove",this._onTouchMove),a($,"touchend",this._onDrop),a($,"touchcancel",this._onDrop)},_onDrop:function(e){var n=this.el,i=this.options;clearInterval(this._loopId),clearInterval(N.pid),a($,"drop",this),a($,"dragover",this),a(n,"dragstart",this._onDragStart),this._offUpEvents(),e&&(e.preventDefault(),!i.dropBubble&&e.stopPropagation(),m&&m.parentNode.removeChild(m),v&&(a(v,"dragend",this),d(v),l(v,this.options.ghostClass,!1),_!==v.parentNode?(T=p(v),F(v.parentNode,"sort",v,_,C,T),F(_,"sort",v,_,C,T),F(v,"add",v,_,C,T),F(_,"remove",v,_,C,T)):(b&&b.parentNode.removeChild(b),v.nextSibling!==D&&(T=p(v),F(_,"update",v,_,C,T),F(_,"sort",v,_,C,T))),t.active&&F(_,"end",v,_,C,T)),_=v=m=D=b=S=B=w=x=E=t.active=null,this.save())},handleEvent:function(t){var e=t.type;"dragover"===e?(this._onDrag(t),o(t)):("drop"===e||"dragend"===e)&&this._onDrop(t)},toArray:function(){for(var t,e=[],n=this.el.children,o=0,r=n.length;r>o;o++)t=n[o],i(t,this.options.draggable,this.el)&&e.push(t.getAttribute("data-id")||h(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,o){var r=n.children[o];i(r,this.options.draggable,n)&&(e[t]=r)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return i(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;return void 0===e?n[t]:void(n[t]=e)},destroy:function(){var t=this.el,e=this.options;Y.forEach(function(n){a(t,n.substr(2).toLowerCase(),e[n])}),a(t,"mousedown",this._onTapStart),a(t,"touchstart",this._onTapStart),a(t,"selectstart",this._onTapStart),a(t,"dragover",this._onDragOver),a(t,"dragenter",this._onDragOver),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),U.splice(U.indexOf(this._onDragOver),1),this._onDrop(),this.el=null}},t.utils={on:r,off:a,css:s,find:c,bind:n,is:function(t,e){return!!i(t,e,t)},throttle:g,closest:i,toggleClass:l,dispatchEvent:F,index:p},t.version="1.0.1",t.create=function(e,n){return new t(e,n)},t});var o=document.getElementById(t),r="undefined"!=typeof n?n:150;Sortable.create(o,{handle:e,animation:r,onEnd:"function"!=typeof i?void 0:i})},includeSecurityToken:function(t,e){return"object"==typeof t&&(t[this.securityTokenKey]=e),t}};